<div class="modal fade" id="ordersListingFleet" tabindex="9" role="modal" aria-labelledby="modal-label" aria-hidden="true" style="display: none; overflow-y: auto !important;">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
			</div>
			<h4 class="text-green">Gérer les commandes</h4>
			<div data-example-id="contextual-table" class="bs-example">
				<table id="ordersFleetListingTable" data-order='[[ 0, \"asc\" ]]' data-page-length='25' class="table table-condensed">
					<thead>
						<tr>
							<th>ID</th>
							<th><span class="fr-inline">Utilisateur</span><span class="en-inline">User</span><span class="nl-inline">User</span></th>
							<th><span class="fr-inline">Vélo</span><span class="en-inline">Bike</span><span class="nl-inline">Bike</span></th>
							<th><span class="fr-inline">Taille</span><span class="en-inline">Size</span><span class="nl-inline">Size</span></th>
							<th>Montant</th>
							<th><span class="fr-inline">Status</span><span class="en-inline">Status</span><span class="nl-inline">Status</span></th>
							<th></th>
						</tr>
					</thead>
					<tbody id='ordersFleetListingSpan'>
					</tbody>
				</table>
			</div>
			<div class="fr" class="modal-footer">
				<button type="button" class="btn btn-b" data-dismiss="modal">Fermer</button>
			</div>
			<div class="en" class="modal-footer">
				<button type="button" class="btn btn-b" data-dismiss="modal">Close</button>
			</div>
			<div class="nl" class="modal-footer">
				<button type="button" class="btn btn-b" data-dismiss="modal">Sluiten</button>
			</div>
		</div>
	</div>
</div>


<div class="modal fade" id="orderManagerFleet" tabindex="-1" role="modal" aria-labelledby="modal-label" aria-hidden="true" style="display: none;">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="col-sm-12">
						<form id="widget-orderFleet-form" action="apis/Kameo/orders_management.php" role="form" method="post">
                          <fieldset disabled>
							<h4 class="fr text-green">Gestion de la commande client</h4>
							<h4 class="nl text-green">Management of client order</h4>
							<h4 class="en text-green">Management of client order</h4>
							<div class="form-group col-sm-12">
								<h4 class="fr text-green">Informations techniques</h4>
								<h4 class="nl text-green">Technical information</h4>
								<h4 class="en text-green">Technical information</h4>
								<div class="row">
									<div class="col-sm-4">
										<label for="ID">ID commande</label>
										<input type="text" name="ID" class="form-control required" readonly>
									</div>
									<div class="col-sm-6">
										<label for="status"  class="fr">Statut</label>
										<label for="status"  class="en">Status</label>
										<label for="status"  class="nl">Status</label>
										<select name="status" class="form-control">
											<option value="new">Nouvelle demande</option>
											<option value="ongoing">En cours</option>
											<option value="confirmed">Confirmée</option>
											<option value="refused">Refusée</option>
										</select>
									</div>
								</div>
							</div>
							<div class="form-group col-sm-12">
								<h4 class="fr text-green">Caractéristiques du vélo</h4>
								<h4 class="nl text-green">Bike characteristics</h4>
								<h4 class="en text-green">Bike characteristics</h4>
								<div class="row">
									<div class="col-sm-4">
										<label for="brand"  class="fr">Marque</label>
										<label for="brand"  class="en">Brand</label>
										<label for="brand"  class="nl">Brand</label>
										<input type="text" name="brand" class="form-control required" disabled>
									</div>
									<div class="col-sm-4">
										<label for="model"  class="fr">Modèle</label>
										<label for="model"  class="en">Model</label>
										<label for="model"  class="nl">Model</label>
										<input type="text" name="model" class="form-control required" disabled>
									</div>
									<div class="col-sm-4">
										<label for="frameType"  class="fr">Type de cadre</label>
										<label for="frameType"  class="en">Frame Type</label>
										<label for="frameType"  class="nl">Frame Type</label>
										<select name="frameType" class="form-control" disabled>
											<option value="H">Homme</option>
											<option value="M">Mixte</option>
											<option value="F">Femme</option>
										</select>
									</div>
									<div class="col-sm-4">
										<label for="size"  class="fr">Taille</label>
										<label for="size"  class="en">Size</label>
										<label for="size"  class="nl">Size</label>
										<select name="size" class="form-control">
											<option value="XS">XS</option>
											<option value="S">S</option>
											<option value="M">M</option>
											<option value="L">L</option>
											<option value="XL">XL</option>
										</select>
									</div>
									<img class="commandBike" width="200" title="vélo commandé" alt="vélo commandé"/>
								</div>
							</div>
							<div class="form-group col-sm-12">
								<h4 class="text-green">Informations sur l'employé</h4>
								<div class="col-sm-4">
									<label for="firstname" class="fr">Prénom</label>
									<label for="firstname" class="en">Firstname</label>
									<label for="firstname" class="nl">Voornaam</label>
									<input type="text" name="firstName" class="form-control required">
								</div>
								<div class="col-sm-4">
									<label for="name" class="fr">Nom</label>
									<label for="name" class="en">Name</label>
									<label for="name" class="nl">Achternaam</label>
									<input type="text" name="name" class="form-control required">
								</div>
								<div class="col-sm-4">
									<label for="mail" class="fr">E-mail</label>
									<label for="mail" class="en">E-mail</label>
									<label for="mail" class="nl">E-mail</label>
									<input type="text" name="mail" class="form-control mail required">
								</div>
								<div class="col-sm-4">
									<label for="phone" class="fr">Numéro de téléphone</label>
									<label for="phone" class="en">Phone number</label>
									<label for="phone" class="nl">Phone number</label>
									<input type="text" name="phone" class="form-control phone">
								</div>
							</div>
							<div class="form-group col-sm-12">
	                <h4 class="text-green">Montant de facturation</h4>
	                <div class="col-sm-4">
	                    <label for="brand">Valeur marchande (TVAC)</label>
	                    <input type="text" name="retailPrice" class="form-control required" disabled>
	                </div>
									<div class="col-sm-4">
                    <label for="type">Type</label>
										<select name="type" class="form-control required">
											<option value="leasing">Leasing mensuel</option>
											<option value="annualLeasing">Leasing annuel</option>
											<option value="achat">Achat</option>
										</select>
	                </div>
									<div class="col-sm-4">
                    <label for="model"  class="fr">Montant leasing</label>
                    <input type="text" name="price" class="form-control required" disabled>
	                </div>
	            </div>
	            </fieldset>

	            <div class="col-sm-12">
	                <a class="button small red-dark button-3d rounded icon-right\" ID="initializeRefuseCommandButton"><span>Refuser</span></a>
	                <button  class="button small green button-3d rounded icon-left" ID="confirmCommandButton" name="validationComand" type="submit"><i class="fa fa-paper-plane"></i>Valider</button>
	            </div>

	            <input type="text" name="action" class="hidden" value="confirmCommand">

						</form>
						<form id="widget-refuseCommand-form" class="hidden" action="apis/Kameo/orders_management.php" role="form" method="post">
                <h4 class="text-green">Raison du refus</h4>
                <textarea type="text" name="reasonOfRefusal" rows="5" class="form-control required" placeholder="Votre message"></textarea>
                <input type="text" name="action" class="hidden" value="refuse">
                <input type="text" name="ID" ID="ID" class="hidden" value="refuse">
                <button  class="button small green button-3d rounded icon-left" name="validationComand" type="submit"><i class="fa fa-paper-plane"></i>Valider</button>
            </form>

					</div>
				</div>
				<div class="fr" class="modal-footer">
					<button type="button" class="btn btn-b" data-dismiss="modal">Fermer</button>
				</div>
				<div class="en" class="modal-footer">
					<button type="button" class="btn btn-b" data-dismiss="modal">Close</button>
				</div>
				<div class="nl" class="modal-footer">
					<button type="button" class="btn btn-b" data-dismiss="modal">Sluiten</button>
				</div>
			</div>
		</div>
	</div>
</div>
<script type="text/javascript">
    jQuery("#widget-orderFleet-form").validate({
		submitHandler: function(form) {
			jQuery(form).ajaxSubmit({
				success: function(response) {
					if (response.response == 'success') {
						$.notify({
							message: response.message
						}, {
							type: 'success'
						});
						get_orders_fleet_listing();
						$('#orderManagerFleet').modal('toggle');
						document.getElementById('widget-orderFleet-form').reset();
					} else {
						$.notify({
							message: response.message
						}, {
							type: 'danger'
						});
					}
				}
			});
		}
    });
    jQuery("#widget-refuseCommand-form").validate({
		submitHandler: function(form) {
			jQuery(form).ajaxSubmit({
				success: function(response) {
					if (response.response == 'success') {
						$.notify({
							message: response.message
						}, {
							type: 'success'
						});
						get_orders_fleet_listing();
						$('#orderManagerFleet').modal('toggle');
						document.getElementById('widget-orderFleet-form').reset();

                          var element = document.getElementById("widget-refuseCommand-form");
                          element.classList.add("hidden");

                          var element = document.getElementById("initializeRefuseCommandButton");
                          element.classList.remove("hidden");

                          var element = document.getElementById("confirmCommandButton");
                          element.classList.remove("hidden");



					} else {
						$.notify({
							message: response.message
						}, {
							type: 'danger'
						});
					}
				}
			});
		}
    });
</script>
