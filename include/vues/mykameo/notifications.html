<div class="notificationHeading"> <!-- NOTIFICATIONS -->
  <div class="col-sm-4" style="padding:0;">
	<span class="pointerClick notificationsClick">
	  <i class="fa fa-2x fa-bell-o text-green" aria-hidden="true"></i>
	  <span style="font-size:20px;">0</span>
	</span>
	 <a class="text-green hideNotifications" style="display:none; cursor: pointer;"><?=L::notifications_hide;?></a>
  </div>
  <div class="notificationsBlock row" style="display:none; overflow:hidden;">
  </div>
</div>


<div
  class="modal fade"
  id="lateBookingNotification"
  tabindex="-1"
  role="modal"
  aria-labelledby="modal-label"
  aria-hidden="true"
  style="display: none; overflow-y: auto !important"
>
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <div class="row">
          <button
            type="button"
            class="close col-sm-1"
            data-dismiss="modal"
            aria-hidden="true">
            &times;
          </button>
        </div>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-sm-12">
            <h4 class="text-green"><?= L::generic_informationBooking; ?></h4>
            <form
              id="widget_updateDepositHour_notification"
              action="apis/Kameo/bookings/bookings.php"
              role="form"
              method="post"
            >
            <div class="row">
              <div class="col-md-2" align="center">
                <label for="ID">ID&nbsp;&nbsp;</label
                ><input
                  type="number"
                  name="ID"
                  class="form-control required"
                  readonly
                />
              </div>
              <div class="col-md-2" align="center">
                <label for="condition"><?= L::generic_bike; ?></label>
                <input
                  type="text"
                  name="model"
                  class="form-control required"
                  disabled
                />
              </div>

              <div class="col-md-4" align="center">
                <label for="condition"><?=L::generic_start_date; ?></label>
                <input
                  type="datetime-local"
                  name="start"
                  class="form-control required"
                  disabled
                />
              </div>
              <div class="col-md-4" align="center">
                <label for="condition"><?=L::generic_end_date; ?></label>
                <input
                  type="datetime-local"
                  name="end"
                  class="form-control required"
                  disabled
                />
              </div>
            </div>
            <div class="separator"></div>
            <div class="row">
              <h4 class="text-green">
                <?= L::notifications_lateBookingNewEndDate1; ?>
              </h4>
              <div class="col-md-4">
                <label for="condition"><?= L::notifications_lateBookingNewEndDate2; ?></label>
                <input
                  name="newEndDate"
                  type="datetime-local"
                  class="form-control required"
                />
              </div>
              <div class="col-md-12">
                <label for="condition"><?= L::notifications_lateBookingReason; ?></label>
                <textarea type="text" name="messageForNextBooking" rows="5" class="form-control" placeholder="<?= L::generic_yourMessage; ?>"></textarea>
              </div>
              <div class="separator nextBooking"></div>
              <div class="col-sm-12 nextBooking">
                <span class="label label-danger"><?= L::generic_attention; ?> </span>
                <span class="text-red">
                  &nbsp;&nbsp;&nbsp;<?= L::notifications_lateBookingNextBooking; ?>
                  <strong name="nextBookingDate">
                  </strong>. <br>
                  <?= L::notifications_lateBookingKeyDropping; ?>
                  <br><br>
                </span>
              </div>
              <input name="action" value="updateEndBookingNotification" type="text" class="form-control required hidden" />
            </div>
            <button
              class="button small green button-3d rounded icon-left"
              type="submit"
            >
            <i class="fa fa-paper-plane"></i><?= L::generic_send; ?>
            </button>
            </form>
            </div>
          </div>
        </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-b" data-dismiss="modal">
          <?= L::generic_close; ?>
        </button>
      </div>
    </div>
  </div>
</div>


<script type="text/javascript">

jQuery("#widget_updateDepositHour_notification").validate({
  submitHandler: function (form) {
    jQuery(form).ajaxSubmit({
      success: function (response) {
        if (response.response == "success") {
          $.notify(
            {
              message: traduction.lateBookingSuccessMessage,
            },
            {
              type: "success",
            }
          );
          document.getElementById("widget_updateDepositHour_notification").reset();
          $("#lateBookingNotification").modal("toggle");
          load_notifications();
        } else {
          $.notify(
            {
              message: response.message,
            },
            {
              type: "danger",
            }
          );
        }
      },
    });
  },
});


var today = new Date();
var dd = today.getDate();
var mm = today.getMonth()+1; //January is 0!
var yyyy = today.getFullYear();
var hh = today.getHours();
var minutes = today.getMinutes();
if(dd<10){
    dd='0'+dd
}
if(mm<10){
    mm='0'+mm
}
if(hh<10){
  hh='0'+hh;
}
if(minutes<10){
  minutes='0'+minutes;
}

today = yyyy+'-'+mm+'-'+dd;
todayWithHours =today+'T'+hh+':'+mm+':00';
$("#widget_updateDepositHour_notification input[name=newEndDate]").attr("min",todayWithHours);

</script>



<div
  class="modal fade"
  id="newBookingLateBooking"
  tabindex="-1"
  role="modal"
  aria-labelledby="modal-label"
  aria-hidden="true"
  style="display: none; overflow-y: auto !important"
>
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <div class="row">
          <button
            type="button"
            class="close col-sm-1"
            data-dismiss="modal"
            aria-hidden="true">
            &times;
          </button>
        </div>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-sm-12" id='widget_newBooking_lateBooking'>
            <h4 class="text-green"><?= L::generic_informationBooking; ?></h4>
            <div class="row">
              <div class="col-md-2" align="center">
                <label for="ID">ID&nbsp;&nbsp;</label
                ><input
                  type="number"
                  name="ID"
                  class="form-control required"
                  readonly
                />
              </div>
              <div class="col-md-2" align="center">
                <label for="condition"><?= L::generic_bike; ?></label>
                <input
                  type="text"
                  name="model"
                  class="form-control required"
                  disabled
                />
              </div>

              <div class="col-md-4" align="center">
                <label for="condition"><?= L::generic_start_date; ?></label>
                <input
                  type="datetime-local"
                  name="start"
                  class="form-control required"
                  disabled
                />
              </div>
              <div class="col-md-4" align="center">
                <label for="condition"><?= L::generic_end_date; ?></label>
                <input
                  type="datetime-local"
                  name="end"
                  class="form-control required"
                  disabled
                />
              </div>
            </div>
            <div class="separator"></div>
            <div class="row">
              <h4 class="text-green">
                <?= L::notifications_lateBookingKeepBikeTitle; ?>
              </h4>
              <p><?= L::notifications_lateBookingKeepBikeText; ?></p>
              <a class="button small green button-3d rounded icon-left" href="#" data-dismiss="modal"><?= L::notifications_lateBookingKeepBikeButton; ?></a>
              <input name="action" value="replaceBooking" type="text" class="form-control required hidden" />
            </div>
            <div class="separator"></div>
            <div class="row">
              <h4 class="text-green">
                <?= L::notifications_lateBookingOtherBike; ?>
              </h4>
              <div id="replaceBooking">
              </div>
              <input name="action" value="replaceBooking" type="text" class="form-control required hidden" />
            </div>
          </div>
        </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-b" data-dismiss="modal">
          <?= L::generic_close; ?>
        </button>
      </div>
    </div>
  </div>
 </div>
</div>


<div
  class="modal fade"
  id="newBookingLateBookingNewHour"
  tabindex="-1"
  role="modal"
  aria-labelledby="modal-label"
  aria-hidden="true"
  style="display: none; overflow-y: auto !important"
>
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <div class="row">
          <button
            type="button"
            class="close col-sm-1"
            data-dismiss="modal"
            aria-hidden="true">
            &times;
          </button>
        </div>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-sm-12" id='widget_newBooking_lateBooking_new_hour'>
            <h4 class="text-green"><?= L::generic_informationBooking; ?></h4>
            <div class="row">
              <div class="col-md-2" align="center">
                <label for="ID">ID&nbsp;&nbsp;</label
                ><input
                  type="number"
                  name="ID"
                  class="form-control required"
                  readonly
                />
              </div>
              <div class="col-md-2" align="center">
                <label for="condition"><?= L::generic_bike; ?></label>
                <input
                  type="text"
                  name="model"
                  class="form-control required"
                  disabled
                />
              </div>

              <div class="col-md-4" align="center">
                <label for="condition"><?= L::generic_start_date; ?></label>
                <input
                  type="datetime-local"
                  name="start"
                  class="form-control required"
                  disabled
                />
              </div>
              <div class="col-md-4" align="center">
                <label for="condition"><?= L::generic_end_date; ?></label>
                <input
                  type="datetime-local"
                  name="end"
                  class="form-control required"
                  disabled
                />
              </div>
            </div>
            <div class="separator"></div>
            <div class="row">
              <h4 class="text-green">
                <?= L::notifications_lateBookingKeepBikeTitle; ?>
              </h4>
              <p><?= L::notifications_lateBookingKeepBikeTextNewHour; ?> <span name="newStartDate"></span>
              </p>
              <a class="button small green button-3d rounded icon-left keepBookingNewHourButton" href="#" data-dismiss="modal"><?= L::notifications_lateBookingKeepBikeButton; ?></a>
              <input name="action" value="replaceBookingNewHour" type="text" class="form-control required hidden" />
            </div>
            <div class="separator"></div>
            <div class="row">
              <h4 class="text-green">
                <?= L::notifications_lateBookingOtherBike; ?>
              </h4>
              <div id="replaceBookingNewHour">
              </div>
              <input name="action" value="replaceBooking" type="text" class="form-control required hidden" />
              <input
              type="datetime-local"
              name="newStartDate"
              class="form-control hidden"
              readonly />
            </div>
          </div>
        </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-b" data-dismiss="modal">
          <?= L::generic_close; ?>
        </button>
      </div>
    </div>
  </div>
 </div>
</div>
